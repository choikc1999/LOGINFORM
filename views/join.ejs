<!-- script -->
<script>
    // axios를 사용하려면 cdn을 써야된다. 
    // axios란 node.js와 브라우저를 위한 Promise 기반 HTTP 클라이언트
    // 1. Promise API지원
    // 2. 브라우저를 위한 XMLHttpRequsete  생성
    // 3. node.js를 위해 http요청 생성
    // 4. json데이터 자동변환
    // = 동형 (웹 개발에서 동형 애플리케이션은 코드(이 경우 JavaScript)가 서버와 클라이언트 모두에서 실행될 수 있는 애플리케이션입니다.)
    // axios 비동기 통신

    // 악시오스(axios), 에이작스

    // cdn이란 

    function joinUser() {
                var form = document.getElementById("join");
                axios({
                    method: 'post',
                    url: 'http://localhost:8080/join',
                    data: {
                        id: form.id.value,
                        name: form.name.value,
                        email: form.email.value,
                        phoneNumber: form.phoneNumber.value,
                        password: form.password.value
                    }
                }).then((response) => {
                    return response.data;
                }).then((data) => {

                    console.log(data);
                    //회원 가입이 완료되었습니다.
                    let html = "<h6 class='fw-bold text-center mt-5'>회원가입이 완료되었습니다!</h6>"
                    document.getElementById("contents").innerHTML = html;
                })
            }
</script>

<!-- body -->
<!DOCTYPE html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <form id="join">
        <div class="row justify-content-center mt-5">
            <div class="col-4"></div>
            <div class="col-4 justify-content-center" id="title">
                <h6 class="fw-bold fs-2 mb-5 text-center">회원가입</h6> 
            </div>
            <div class="col-4"></div>
        </div>
        <div class="row justify-content-center">
            <div class="col-4"></div>
            <div class="col-4 justify-content-center" id="contents">
                <h6 class="fw-bold">ID</h6>
                <input class="input-box mb-2" type="text" name="id" placeholder="아이디를 입력하세요" required><br>
                <h6 class="fw-bold">Name</h6>
                <input class="input-box mb-2" type="text" name="name" placeholder="이름을 입력하세요" required><br>
                <h6 class="fw-bold">Email</h6>
                <input class="input-box mb-2" type="text" name="email" placeholder="이메일 주소를 입력하세요"><br>
                <h6 class="fw-bold">Phone Number</h6>
                <input class="input-box mb-2" type="text" name="phoneNumber" placeholder="010 - XXXX - XXXX 형태로 입력하세요"><br>
                <h6 class="fw-bold">Password</h6>
                <input class="input-box mb-2" type="password" name="password" placeholder="비밀번호를 입력하세요" required><br>
            </div>
            <div class="col-4"></div>
        </div>
        <div class="row justify-content-center mt-3">
            <div class="col-4"></div>
            <div class="col-4" id="button-group">
                <button class="join-button" type="button" onclick="joinUser();">회원가입</button>        
            </div>
            <div class="col-4"></div>
        </div>
        <div class="row justify-content-center mt-3">
            <div class="col-4"></div>
            <div class="col-4" id="button-group">
                <button class="join-button" type="button" onclick="location.href='login';">로그인 하러가기</button>   
            </div>
            <div class="col-4"></div>
        </div>
       
    </form>
</body>